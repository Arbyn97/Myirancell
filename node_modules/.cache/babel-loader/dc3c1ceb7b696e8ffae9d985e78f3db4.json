{"ast":null,"code":"/**\n * Copyright Schrodinger, LLC\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule reducers\n */\n'use strict';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _pick = _interopRequireDefault(require('lodash/pick'));\n\nvar _IntegerBufferSet = _interopRequireDefault(require('./../vendor_upstream/struct/IntegerBufferSet'));\n\nvar _PrefixIntervalTree = _interopRequireDefault(require('./../vendor_upstream/struct/PrefixIntervalTree'));\n\nvar _shallowEqual = _interopRequireDefault(require('./../vendor_upstream/core/shallowEqual'));\n\nvar _convertColumnElementsToData = _interopRequireDefault(require('./../helper/convertColumnElementsToData'));\n\nvar ActionTypes = _interopRequireWildcard(require('./../actions/ActionTypes'));\n\nvar _scrollAnchor3 = require('././scrollAnchor');\n\nvar _columnStateHelper = _interopRequireDefault(require('././columnStateHelper'));\n\nvar _computeRenderedRows = _interopRequireDefault(require('././computeRenderedRows'));\n\nvar _Scrollbar = _interopRequireDefault(require('./../plugins/Scrollbar'));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n/**\n * Returns the default initial state for the redux store.\n * This must be a brand new, independent object for each table instance\n * or issues may occur due to multiple tables sharing data.\n *\n * @return {!Object}\n */\n\n\nfunction getInitialState() {\n  return {\n    /*\n     * Input state set from props\n     */\n    columnProps: [],\n    columnGroupProps: [],\n    elementTemplates: {\n      cell: [],\n      footer: [],\n      groupHeader: [],\n      header: []\n    },\n    elementHeights: {\n      footerHeight: 0,\n      groupHeaderHeight: 0,\n      headerHeight: 0\n    },\n    propsRevision: null,\n    rowSettings: {\n      bufferRowCount: undefined,\n      rowAttributesGetter: undefined,\n      rowHeight: 0,\n      rowHeightGetter: function rowHeightGetter() {\n        return 0;\n      },\n      rowsCount: 0,\n      subRowHeight: 0,\n      subRowHeightGetter: function subRowHeightGetter() {\n        return 0;\n      }\n    },\n    scrollFlags: {\n      overflowX: 'auto',\n      overflowY: 'auto',\n      showScrollbarX: true,\n      showScrollbarY: true\n    },\n    tableSize: {\n      height: undefined,\n      maxHeight: 0,\n      ownerHeight: undefined,\n      useMaxHeight: false,\n      width: 0\n    },\n\n    /*\n     * Output state passed as props to the the rendered FixedDataTable\n     * NOTE (jordan) rows may contain undefineds if we don't need all the buffer positions\n     */\n    columnReorderingData: {},\n    columnResizingData: {},\n    firstRowIndex: 0,\n    firstRowOffset: 0,\n    isColumnReordering: false,\n    isColumnResizing: false,\n    maxScrollX: 0,\n    maxScrollY: 0,\n    rowOffsets: {},\n    rows: [],\n    // rowsToRender\n    scrollContentHeight: 0,\n    scrollX: 0,\n    scrollbarXHeight: _Scrollbar[\"default\"].SIZE,\n    scrollY: 0,\n    scrollbarYWidth: _Scrollbar[\"default\"].SIZE,\n    scrolling: false,\n\n    /*\n     * Internal state only used by this file\n     * NOTE (jordan) internal state is altered in place\n     * so don't trust it for redux history or immutability checks\n     * TODO (jordan) investigate if we want to move this to local or scoped state\n     */\n    rowBufferSet: new _IntegerBufferSet[\"default\"](),\n    storedHeights: [],\n    rowOffsetIntervalTree: null // PrefixIntervalTree\n\n  };\n}\n\nfunction reducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getInitialState();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ActionTypes.INITIALIZE:\n      {\n        var props = action.props;\n        var newState = setStateFromProps(state, props);\n        newState = initializeRowHeightsAndOffsets(newState);\n        var scrollAnchor = (0, _scrollAnchor3.getScrollAnchor)(newState, props);\n        newState = (0, _computeRenderedRows[\"default\"])(newState, scrollAnchor);\n        return _columnStateHelper[\"default\"].initialize(newState, props, {});\n      }\n\n    case ActionTypes.PROP_CHANGE:\n      {\n        var newProps = action.newProps,\n            oldProps = action.oldProps;\n\n        var _newState = setStateFromProps(state, newProps);\n\n        if (oldProps.rowsCount !== newProps.rowsCount || oldProps.rowHeight !== newProps.rowHeight || oldProps.subRowHeight !== newProps.subRowHeight) {\n          _newState = initializeRowHeightsAndOffsets(_newState);\n        }\n\n        if (oldProps.rowsCount !== newProps.rowsCount) {\n          // NOTE (jordan) bad practice to modify state directly, but okay since\n          // we know setStateFromProps clones state internally\n          _newState.rowBufferSet = new _IntegerBufferSet[\"default\"]();\n        }\n\n        var _scrollAnchor = (0, _scrollAnchor3.getScrollAnchor)(_newState, newProps, oldProps); // If anything has changed in state, update our rendered rows\n\n\n        if (!(0, _shallowEqual[\"default\"])(state, _newState) || _scrollAnchor.changed) {\n          _newState = (0, _computeRenderedRows[\"default\"])(_newState, _scrollAnchor);\n        }\n\n        _newState = _columnStateHelper[\"default\"].initialize(_newState, newProps, oldProps); // if scroll values have changed, then we're scrolling!\n\n        if (_newState.scrollX !== state.scrollX || _newState.scrollY !== state.scrollY) {\n          _newState.scrolling = _newState.scrolling || true;\n        } // TODO REDUX_MIGRATION solve w/ evil-diff\n        // TODO (jordan) check if relevant props unchanged and\n        // children column widths and flex widths are unchanged\n        // alternatively shallow diff and reconcile props\n\n\n        return _newState;\n      }\n\n    case ActionTypes.SCROLL_END:\n      {\n        var _newState2 = _extends({}, state, {\n          scrolling: false\n        });\n\n        var previousScrollAnchor = {\n          firstIndex: state.firstRowIndex,\n          firstOffset: state.firstRowOffset,\n          lastIndex: state.lastIndex\n        };\n        return (0, _computeRenderedRows[\"default\"])(_newState2, previousScrollAnchor);\n      }\n\n    case ActionTypes.SCROLL_TO_Y:\n      {\n        var scrollY = action.scrollY;\n\n        var _newState3 = _extends({}, state, {\n          scrolling: true\n        });\n\n        var _scrollAnchor2 = (0, _scrollAnchor3.scrollTo)(_newState3, scrollY);\n\n        return (0, _computeRenderedRows[\"default\"])(_newState3, _scrollAnchor2);\n      }\n\n    case ActionTypes.COLUMN_RESIZE:\n      {\n        var resizeData = action.resizeData;\n        return _columnStateHelper[\"default\"].resizeColumn(state, resizeData);\n      }\n\n    case ActionTypes.COLUMN_REORDER_START:\n      {\n        var reorderData = action.reorderData;\n        return _columnStateHelper[\"default\"].reorderColumn(state, reorderData);\n      }\n\n    case ActionTypes.COLUMN_REORDER_END:\n      {\n        return _extends({}, state, {\n          isColumnReordering: false,\n          columnReorderingData: {}\n        });\n      }\n\n    case ActionTypes.COLUMN_REORDER_MOVE:\n      {\n        var deltaX = action.deltaX;\n        return _columnStateHelper[\"default\"].reorderColumnMove(state, deltaX);\n      }\n\n    case ActionTypes.SCROLL_TO_X:\n      {\n        var scrollX = action.scrollX;\n        return _extends({}, state, {\n          scrolling: true,\n          scrollX: scrollX\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n/**\n * Initialize row heights (storedHeights) & offsets based on the default rowHeight\n *\n * @param {!Object} state\n * @private\n */\n\n\nfunction initializeRowHeightsAndOffsets(state) {\n  var _state$rowSettings = state.rowSettings,\n      rowHeight = _state$rowSettings.rowHeight,\n      rowsCount = _state$rowSettings.rowsCount,\n      subRowHeight = _state$rowSettings.subRowHeight;\n  var defaultFullRowHeight = rowHeight + subRowHeight;\n\n  var rowOffsetIntervalTree = _PrefixIntervalTree[\"default\"].uniform(rowsCount, defaultFullRowHeight);\n\n  var scrollContentHeight = rowsCount * defaultFullRowHeight;\n  var storedHeights = new Array(rowsCount);\n\n  for (var idx = 0; idx < rowsCount; idx++) {\n    storedHeights[idx] = defaultFullRowHeight;\n  }\n\n  return _extends({}, state, {\n    rowOffsetIntervalTree: rowOffsetIntervalTree,\n    scrollContentHeight: scrollContentHeight,\n    storedHeights: storedHeights\n  });\n}\n/**\n * @param {!Object} state\n * @param {!Object} props\n * @return {!Object}\n * @private\n */\n\n\nfunction setStateFromProps(state, props) {\n  var _convertColumnElement = (0, _convertColumnElementsToData[\"default\"])(props.children),\n      columnGroupProps = _convertColumnElement.columnGroupProps,\n      columnProps = _convertColumnElement.columnProps,\n      elementTemplates = _convertColumnElement.elementTemplates,\n      useGroupHeader = _convertColumnElement.useGroupHeader;\n\n  var newState = _extends({}, state, {\n    columnGroupProps: columnGroupProps,\n    columnProps: columnProps,\n    elementTemplates: elementTemplates,\n    propsRevision: state.propsRevision + 1\n  });\n\n  newState.elementHeights = _extends({}, newState.elementHeights, (0, _pick[\"default\"])(props, ['cellGroupWrapperHeight', 'footerHeight', 'groupHeaderHeight', 'headerHeight']));\n\n  if (!useGroupHeader) {\n    newState.elementHeights.groupHeaderHeight = 0;\n  }\n\n  newState.rowSettings = _extends({}, newState.rowSettings, (0, _pick[\"default\"])(props, ['bufferRowCount', 'rowHeight', 'rowsCount', 'subRowHeight']));\n  var _newState$rowSettings = newState.rowSettings,\n      rowHeight = _newState$rowSettings.rowHeight,\n      subRowHeight = _newState$rowSettings.subRowHeight;\n\n  newState.rowSettings.rowHeightGetter = props.rowHeightGetter || function () {\n    return rowHeight;\n  };\n\n  newState.rowSettings.subRowHeightGetter = props.subRowHeightGetter || function () {\n    return subRowHeight || 0;\n  };\n\n  newState.rowSettings.rowAttributesGetter = props.rowAttributesGetter;\n  newState.scrollFlags = _extends({}, newState.scrollFlags, (0, _pick[\"default\"])(props, ['overflowX', 'overflowY', 'showScrollbarX', 'showScrollbarY']));\n  newState.tableSize = _extends({}, newState.tableSize, (0, _pick[\"default\"])(props, ['height', 'maxHeight', 'ownerHeight', 'width']));\n  newState.tableSize.useMaxHeight = newState.tableSize.height === undefined;\n  newState.scrollbarXHeight = props.scrollbarXHeight;\n  newState.scrollbarYWidth = props.scrollbarYWidth;\n  return newState;\n}\n\nvar _default = reducers;\nexports[\"default\"] = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_pick","_interopRequireDefault","require","_IntegerBufferSet","_PrefixIntervalTree","_shallowEqual","_convertColumnElementsToData","ActionTypes","_interopRequireWildcard","_scrollAnchor3","_columnStateHelper","_computeRenderedRows","_Scrollbar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","getInitialState","columnProps","columnGroupProps","elementTemplates","cell","footer","groupHeader","header","elementHeights","footerHeight","groupHeaderHeight","headerHeight","propsRevision","rowSettings","bufferRowCount","undefined","rowAttributesGetter","rowHeight","rowHeightGetter","rowsCount","subRowHeight","subRowHeightGetter","scrollFlags","overflowX","overflowY","showScrollbarX","showScrollbarY","tableSize","height","maxHeight","ownerHeight","useMaxHeight","width","columnReorderingData","columnResizingData","firstRowIndex","firstRowOffset","isColumnReordering","isColumnResizing","maxScrollX","maxScrollY","rowOffsets","rows","scrollContentHeight","scrollX","scrollbarXHeight","SIZE","scrollY","scrollbarYWidth","scrolling","rowBufferSet","storedHeights","rowOffsetIntervalTree","reducers","state","action","type","INITIALIZE","props","newState","setStateFromProps","initializeRowHeightsAndOffsets","scrollAnchor","getScrollAnchor","initialize","PROP_CHANGE","newProps","oldProps","_newState","_scrollAnchor","changed","SCROLL_END","_newState2","previousScrollAnchor","firstIndex","firstOffset","lastIndex","SCROLL_TO_Y","_newState3","_scrollAnchor2","scrollTo","COLUMN_RESIZE","resizeData","resizeColumn","COLUMN_REORDER_START","reorderData","reorderColumn","COLUMN_REORDER_END","COLUMN_REORDER_MOVE","deltaX","reorderColumnMove","SCROLL_TO_X","_state$rowSettings","defaultFullRowHeight","uniform","Array","idx","_convertColumnElement","children","useGroupHeader","_newState$rowSettings","_default"],"sources":["D:/myirancell/myirancell/node_modules/fixed-data-table-2/internal/reducers/index.js"],"sourcesContent":["/**\n * Copyright Schrodinger, LLC\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule reducers\n */\n'use strict';\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _pick = _interopRequireDefault(require('lodash/pick'));\n\nvar _IntegerBufferSet = _interopRequireDefault(require('./../vendor_upstream/struct/IntegerBufferSet'));\n\nvar _PrefixIntervalTree = _interopRequireDefault(require('./../vendor_upstream/struct/PrefixIntervalTree'));\n\nvar _shallowEqual = _interopRequireDefault(require('./../vendor_upstream/core/shallowEqual'));\n\nvar _convertColumnElementsToData = _interopRequireDefault(require('./../helper/convertColumnElementsToData'));\n\nvar ActionTypes = _interopRequireWildcard(require('./../actions/ActionTypes'));\n\nvar _scrollAnchor3 = require('././scrollAnchor');\n\nvar _columnStateHelper = _interopRequireDefault(require('././columnStateHelper'));\n\nvar _computeRenderedRows = _interopRequireDefault(require('././computeRenderedRows'));\n\nvar _Scrollbar = _interopRequireDefault(require('./../plugins/Scrollbar'));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Returns the default initial state for the redux store.\n * This must be a brand new, independent object for each table instance\n * or issues may occur due to multiple tables sharing data.\n *\n * @return {!Object}\n */\nfunction getInitialState() {\n  return {\n    /*\n     * Input state set from props\n     */\n    columnProps: [],\n    columnGroupProps: [],\n    elementTemplates: {\n      cell: [],\n      footer: [],\n      groupHeader: [],\n      header: []\n    },\n    elementHeights: {\n      footerHeight: 0,\n      groupHeaderHeight: 0,\n      headerHeight: 0\n    },\n    propsRevision: null,\n    rowSettings: {\n      bufferRowCount: undefined,\n      rowAttributesGetter: undefined,\n      rowHeight: 0,\n      rowHeightGetter: function rowHeightGetter() {\n        return 0;\n      },\n      rowsCount: 0,\n      subRowHeight: 0,\n      subRowHeightGetter: function subRowHeightGetter() {\n        return 0;\n      }\n    },\n    scrollFlags: {\n      overflowX: 'auto',\n      overflowY: 'auto',\n      showScrollbarX: true,\n      showScrollbarY: true\n    },\n    tableSize: {\n      height: undefined,\n      maxHeight: 0,\n      ownerHeight: undefined,\n      useMaxHeight: false,\n      width: 0\n    },\n\n    /*\n     * Output state passed as props to the the rendered FixedDataTable\n     * NOTE (jordan) rows may contain undefineds if we don't need all the buffer positions\n     */\n    columnReorderingData: {},\n    columnResizingData: {},\n    firstRowIndex: 0,\n    firstRowOffset: 0,\n    isColumnReordering: false,\n    isColumnResizing: false,\n    maxScrollX: 0,\n    maxScrollY: 0,\n    rowOffsets: {},\n    rows: [],\n    // rowsToRender\n    scrollContentHeight: 0,\n    scrollX: 0,\n    scrollbarXHeight: _Scrollbar[\"default\"].SIZE,\n    scrollY: 0,\n    scrollbarYWidth: _Scrollbar[\"default\"].SIZE,\n    scrolling: false,\n\n    /*\n     * Internal state only used by this file\n     * NOTE (jordan) internal state is altered in place\n     * so don't trust it for redux history or immutability checks\n     * TODO (jordan) investigate if we want to move this to local or scoped state\n     */\n    rowBufferSet: new _IntegerBufferSet[\"default\"](),\n    storedHeights: [],\n    rowOffsetIntervalTree: null // PrefixIntervalTree\n\n  };\n}\n\nfunction reducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getInitialState();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ActionTypes.INITIALIZE:\n      {\n        var props = action.props;\n        var newState = setStateFromProps(state, props);\n        newState = initializeRowHeightsAndOffsets(newState);\n        var scrollAnchor = (0, _scrollAnchor3.getScrollAnchor)(newState, props);\n        newState = (0, _computeRenderedRows[\"default\"])(newState, scrollAnchor);\n        return _columnStateHelper[\"default\"].initialize(newState, props, {});\n      }\n\n    case ActionTypes.PROP_CHANGE:\n      {\n        var newProps = action.newProps,\n            oldProps = action.oldProps;\n\n        var _newState = setStateFromProps(state, newProps);\n\n        if (oldProps.rowsCount !== newProps.rowsCount || oldProps.rowHeight !== newProps.rowHeight || oldProps.subRowHeight !== newProps.subRowHeight) {\n          _newState = initializeRowHeightsAndOffsets(_newState);\n        }\n\n        if (oldProps.rowsCount !== newProps.rowsCount) {\n          // NOTE (jordan) bad practice to modify state directly, but okay since\n          // we know setStateFromProps clones state internally\n          _newState.rowBufferSet = new _IntegerBufferSet[\"default\"]();\n        }\n\n        var _scrollAnchor = (0, _scrollAnchor3.getScrollAnchor)(_newState, newProps, oldProps); // If anything has changed in state, update our rendered rows\n\n\n        if (!(0, _shallowEqual[\"default\"])(state, _newState) || _scrollAnchor.changed) {\n          _newState = (0, _computeRenderedRows[\"default\"])(_newState, _scrollAnchor);\n        }\n\n        _newState = _columnStateHelper[\"default\"].initialize(_newState, newProps, oldProps); // if scroll values have changed, then we're scrolling!\n\n        if (_newState.scrollX !== state.scrollX || _newState.scrollY !== state.scrollY) {\n          _newState.scrolling = _newState.scrolling || true;\n        } // TODO REDUX_MIGRATION solve w/ evil-diff\n        // TODO (jordan) check if relevant props unchanged and\n        // children column widths and flex widths are unchanged\n        // alternatively shallow diff and reconcile props\n\n\n        return _newState;\n      }\n\n    case ActionTypes.SCROLL_END:\n      {\n        var _newState2 = _extends({}, state, {\n          scrolling: false\n        });\n\n        var previousScrollAnchor = {\n          firstIndex: state.firstRowIndex,\n          firstOffset: state.firstRowOffset,\n          lastIndex: state.lastIndex\n        };\n        return (0, _computeRenderedRows[\"default\"])(_newState2, previousScrollAnchor);\n      }\n\n    case ActionTypes.SCROLL_TO_Y:\n      {\n        var scrollY = action.scrollY;\n\n        var _newState3 = _extends({}, state, {\n          scrolling: true\n        });\n\n        var _scrollAnchor2 = (0, _scrollAnchor3.scrollTo)(_newState3, scrollY);\n\n        return (0, _computeRenderedRows[\"default\"])(_newState3, _scrollAnchor2);\n      }\n\n    case ActionTypes.COLUMN_RESIZE:\n      {\n        var resizeData = action.resizeData;\n        return _columnStateHelper[\"default\"].resizeColumn(state, resizeData);\n      }\n\n    case ActionTypes.COLUMN_REORDER_START:\n      {\n        var reorderData = action.reorderData;\n        return _columnStateHelper[\"default\"].reorderColumn(state, reorderData);\n      }\n\n    case ActionTypes.COLUMN_REORDER_END:\n      {\n        return _extends({}, state, {\n          isColumnReordering: false,\n          columnReorderingData: {}\n        });\n      }\n\n    case ActionTypes.COLUMN_REORDER_MOVE:\n      {\n        var deltaX = action.deltaX;\n        return _columnStateHelper[\"default\"].reorderColumnMove(state, deltaX);\n      }\n\n    case ActionTypes.SCROLL_TO_X:\n      {\n        var scrollX = action.scrollX;\n        return _extends({}, state, {\n          scrolling: true,\n          scrollX: scrollX\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n/**\n * Initialize row heights (storedHeights) & offsets based on the default rowHeight\n *\n * @param {!Object} state\n * @private\n */\n\n\nfunction initializeRowHeightsAndOffsets(state) {\n  var _state$rowSettings = state.rowSettings,\n      rowHeight = _state$rowSettings.rowHeight,\n      rowsCount = _state$rowSettings.rowsCount,\n      subRowHeight = _state$rowSettings.subRowHeight;\n  var defaultFullRowHeight = rowHeight + subRowHeight;\n\n  var rowOffsetIntervalTree = _PrefixIntervalTree[\"default\"].uniform(rowsCount, defaultFullRowHeight);\n\n  var scrollContentHeight = rowsCount * defaultFullRowHeight;\n  var storedHeights = new Array(rowsCount);\n\n  for (var idx = 0; idx < rowsCount; idx++) {\n    storedHeights[idx] = defaultFullRowHeight;\n  }\n\n  return _extends({}, state, {\n    rowOffsetIntervalTree: rowOffsetIntervalTree,\n    scrollContentHeight: scrollContentHeight,\n    storedHeights: storedHeights\n  });\n}\n/**\n * @param {!Object} state\n * @param {!Object} props\n * @return {!Object}\n * @private\n */\n\n\nfunction setStateFromProps(state, props) {\n  var _convertColumnElement = (0, _convertColumnElementsToData[\"default\"])(props.children),\n      columnGroupProps = _convertColumnElement.columnGroupProps,\n      columnProps = _convertColumnElement.columnProps,\n      elementTemplates = _convertColumnElement.elementTemplates,\n      useGroupHeader = _convertColumnElement.useGroupHeader;\n\n  var newState = _extends({}, state, {\n    columnGroupProps: columnGroupProps,\n    columnProps: columnProps,\n    elementTemplates: elementTemplates,\n    propsRevision: state.propsRevision + 1\n  });\n\n  newState.elementHeights = _extends({}, newState.elementHeights, (0, _pick[\"default\"])(props, ['cellGroupWrapperHeight', 'footerHeight', 'groupHeaderHeight', 'headerHeight']));\n\n  if (!useGroupHeader) {\n    newState.elementHeights.groupHeaderHeight = 0;\n  }\n\n  newState.rowSettings = _extends({}, newState.rowSettings, (0, _pick[\"default\"])(props, ['bufferRowCount', 'rowHeight', 'rowsCount', 'subRowHeight']));\n  var _newState$rowSettings = newState.rowSettings,\n      rowHeight = _newState$rowSettings.rowHeight,\n      subRowHeight = _newState$rowSettings.subRowHeight;\n\n  newState.rowSettings.rowHeightGetter = props.rowHeightGetter || function () {\n    return rowHeight;\n  };\n\n  newState.rowSettings.subRowHeightGetter = props.subRowHeightGetter || function () {\n    return subRowHeight || 0;\n  };\n\n  newState.rowSettings.rowAttributesGetter = props.rowAttributesGetter;\n  newState.scrollFlags = _extends({}, newState.scrollFlags, (0, _pick[\"default\"])(props, ['overflowX', 'overflowY', 'showScrollbarX', 'showScrollbarY']));\n  newState.tableSize = _extends({}, newState.tableSize, (0, _pick[\"default\"])(props, ['height', 'maxHeight', 'ownerHeight', 'width']));\n  newState.tableSize.useMaxHeight = newState.tableSize.height === undefined;\n  newState.scrollbarXHeight = props.scrollbarXHeight;\n  newState.scrollbarYWidth = props.scrollbarYWidth;\n  return newState;\n}\n\nvar _default = reducers;\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}